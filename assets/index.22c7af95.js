import{j as F,W as j,a as V,d as B,A as P,$ as T,c as l,k as v,m as S,t as W,B as y,a0 as ke,w as R,G as ne,a1 as we,a2 as $e,M as H,u as A,a3 as Te,a4 as Ve,i as Be,a5 as Ee,V as Re,a6 as Oe,P as _e,r as Y,a7 as Me,x as Le,E as Ae,C as L,a8 as De,a9 as Z,l as J,Z as Ne,aa as ze,ab as Fe,H as je}from"./index.88af75ae.js";const q="van-hairline",$t=`${q}--bottom`,Tt=`${q}--surround`,We=`${q}--top-bottom`,Vt="van-haptics-feedback",He=Symbol("van-form");function qe(e){const n=j();n&&F(n.proxy,e)}const Ge={to:[String,Object],url:String,replace:Boolean};function Ke({to:e,url:n,replace:a,$router:r}){e&&r?r[a?"replace":"push"](e):n&&(a?location.replace(n):location.href=n)}function Ue(){const e=j().proxy;return()=>Ke(e)}const[Ye,Q]=V("badge"),Ze={dot:Boolean,max:v,tag:S("div"),color:String,offset:Array,content:v,showZero:W,position:S("top-right")};var Je=B({name:Ye,props:Ze,setup(e,{slots:n}){const a=()=>{if(n.content)return!0;const{content:c,showZero:o}=e;return y(c)&&c!==""&&(o||c!==0)},r=()=>{const{dot:c,max:o,content:u}=e;if(!c&&a())return n.content?n.content():y(o)&&ke(u)&&+u>o?`${o}+`:u},i=P(()=>{const c={background:e.color};if(e.offset){const[o,u]=e.offset;n.default?(c.top=T(u),typeof o=="number"?c.right=T(-o):c.right=o.startsWith("-")?o.replace("-",""):`-${o}`):(c.marginTop=T(u),c.marginLeft=T(o))}return c}),f=()=>{if(a()||e.dot)return l("div",{class:Q([e.position,{dot:e.dot,fixed:!!n.default}]),style:i.value},[r()])};return()=>{if(n.default){const{tag:c}=e;return l(c,{class:Q("wrapper")},{default:()=>[n.default(),f()]})}return f()}}});const Qe=R(Je),[ae,Xe]=V("config-provider"),re=Symbol(ae),pe={tag:S("div"),themeVars:Object,iconPrefix:String};function et(e){const n={};return Object.keys(e).forEach(a=>{n[`--van-${we(a)}`]=e[a]}),n}B({name:ae,props:pe,setup(e,{slots:n}){const a=P(()=>{if(e.themeVars)return et(e.themeVars)});return ne(re,e),()=>l(e.tag,{class:Xe(),style:a.value},{default:()=>{var r;return[(r=n.default)==null?void 0:r.call(n)]}})}});const[tt,X]=V("icon"),nt=e=>e==null?void 0:e.includes("/"),at={dot:Boolean,tag:S("i"),name:String,size:v,badge:v,color:String,badgeProps:Object,classPrefix:String};var rt=B({name:tt,props:at,setup(e,{slots:n}){const a=$e(re,null),r=P(()=>e.classPrefix||(a==null?void 0:a.iconPrefix)||X());return()=>{const{tag:i,dot:f,name:c,size:o,badge:u,color:g}=e,h=nt(c);return l(Qe,H({dot:f,tag:i,class:[r.value,h?"":`${r.value}-${c}`],style:{color:g,fontSize:T(o)},content:u},e.badgeProps),{default:()=>{var x;return[(x=n.default)==null?void 0:x.call(n),h&&l("img",{class:X("image"),src:c},null)]}})}}});const E=R(rt),[it,$]=V("cell"),ie={icon:String,size:String,title:v,value:v,label:v,center:Boolean,isLink:Boolean,border:W,required:Boolean,iconPrefix:String,valueClass:A,labelClass:A,titleClass:A,titleStyle:null,arrowDirection:String,clickable:{type:Boolean,default:null}},lt=F({},ie,Ge);var ot=B({name:it,props:lt,setup(e,{slots:n}){const a=Ue(),r=()=>{if(n.label||y(e.label))return l("div",{class:[$("label"),e.labelClass]},[n.label?n.label():e.label])},i=()=>{if(n.title||y(e.title))return l("div",{class:[$("title"),e.titleClass],style:e.titleStyle},[n.title?n.title():l("span",null,[e.title]),r()])},f=()=>{const u=n.value||n.default;if(u||y(e.value)){const h=n.title||y(e.title);return l("div",{class:[$("value",{alone:!h}),e.valueClass]},[u?u():l("span",null,[e.value])])}},c=()=>{if(n.icon)return n.icon();if(e.icon)return l(E,{name:e.icon,class:$("left-icon"),classPrefix:e.iconPrefix},null)},o=()=>{if(n["right-icon"])return n["right-icon"]();if(e.isLink){const u=e.arrowDirection?`arrow-${e.arrowDirection}`:"arrow";return l(E,{name:u,class:$("right-icon")},null)}};return()=>{var u,g;const{size:h,center:x,border:D,isLink:I,required:O}=e,k=(u=e.clickable)!=null?u:I,w={center:x,required:O,clickable:k,borderless:!D};return h&&(w[h]=!!h),l("div",{class:$(w),role:k?"button":void 0,tabindex:k?0:void 0,onClick:a},[c(),i(),f(),o(),(g=n.extra)==null?void 0:g.call(n)])}}});const ct=R(ot);function st(e){return Array.isArray(e)?!e.length:e===0?!1:!e}function ut(e,n){return!(n.required&&st(e)||n.pattern&&!n.pattern.test(String(e)))}function dt(e,n){return new Promise(a=>{const r=n.validator(e,n);if(Be(r)){r.then(a);return}a(r)})}function p(e,n){const{message:a}=n;return Ee(a)?a(e,n):a||""}function ft({target:e}){e.composing=!0}function ee({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function gt(e,n){const a=Te();e.style.height="auto";let r=e.scrollHeight;if(Re(n)){const{maxHeight:i,minHeight:f}=n;i!==void 0&&(r=Math.min(r,i)),f!==void 0&&(r=Math.max(r,f))}r&&(e.style.height=`${r}px`,Ve(a))}function mt(e){return e==="number"?{type:"text",inputmode:"decimal"}:e==="digit"?{type:"tel",inputmode:"numeric"}:{type:e}}function z(e){return[...e].length}function bt(e,n){return[...e].slice(0,n).join("")}let ht=0;function vt(){const e=j(),{name:n="unknown"}=(e==null?void 0:e.type)||{};return`${n}-${++ht}`}const[yt,b]=V("field"),St={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:v,formatter:Function,clearIcon:S("clear"),modelValue:Oe(""),inputAlign:String,placeholder:String,autocomplete:String,errorMessage:String,enterkeyhint:String,clearTrigger:S("focus"),formatTrigger:S("onChange"),error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}},xt=F({},ie,St,{rows:v,type:S("text"),rules:Array,autosize:[Boolean,Object],labelWidth:v,labelClass:A,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var Ct=B({name:yt,props:xt,emits:["blur","focus","clear","keypress","click-input","end-validate","start-validate","click-left-icon","click-right-icon","update:modelValue"],setup(e,{emit:n,slots:a}){const r=vt(),i=_e({status:"unvalidated",focused:!1,validateMessage:""}),f=Y(),c=Y(),{parent:o}=Me(He),u=()=>{var t;return String((t=e.modelValue)!=null?t:"")},g=t=>{if(y(e[t]))return e[t];if(o&&y(o.props[t]))return o.props[t]},h=P(()=>{const t=g("readonly");if(e.clearable&&!t){const s=u()!=="",d=e.clearTrigger==="always"||e.clearTrigger==="focus"&&i.focused;return s&&d}return!1}),x=P(()=>c.value&&a.input?c.value():e.modelValue),D=t=>t.reduce((s,d)=>s.then(()=>{if(i.status==="failed")return;let{value:m}=x;if(d.formatter&&(m=d.formatter(m,d)),!ut(m,d)){i.status="failed",i.validateMessage=p(m,d);return}if(d.validator)return dt(m,d).then(C=>{C&&typeof C=="string"?(i.status="failed",i.validateMessage=C):C===!1&&(i.status="failed",i.validateMessage=p(m,d))})}),Promise.resolve()),I=()=>{i.status="unvalidated",i.validateMessage=""},O=()=>n("end-validate",{status:i.status}),k=(t=e.rules)=>new Promise(s=>{I(),t?(n("start-validate"),D(t).then(()=>{i.status==="failed"?(s({name:e.name,message:i.validateMessage}),O()):(i.status="passed",s(),O())})):s()}),w=t=>{if(o&&e.rules){const{validateTrigger:s}=o.props,d=Z(s).includes(t),m=e.rules.filter(C=>C.trigger?Z(C.trigger).includes(t):d);m.length&&k(m)}},le=t=>{const{maxlength:s}=e;if(y(s)&&z(t)>s){const d=u();return d&&z(d)===+s?d:bt(t,+s)}return t},_=(t,s="onChange")=>{if(t=le(t),e.type==="number"||e.type==="digit"){const d=e.type==="number";t=De(t,d,d)}e.formatter&&s===e.formatTrigger&&(t=e.formatter(t)),f.value&&f.value.value!==t&&(f.value.value=t),t!==e.modelValue&&n("update:modelValue",t)},oe=t=>{t.target.composing||_(t.target.value)},N=()=>{var t;return(t=f.value)==null?void 0:t.blur()},ce=()=>{var t;return(t=f.value)==null?void 0:t.focus()},M=()=>{const t=f.value;e.type==="textarea"&&e.autosize&&t&&gt(t,e.autosize)},se=t=>{i.focused=!0,n("focus",t),L(M),g("readonly")&&N()},ue=t=>{g("readonly")||(i.focused=!1,_(u(),"onBlur"),n("blur",t),w("onBlur"),L(M),ze())},G=t=>n("click-input",t),de=t=>n("click-left-icon",t),fe=t=>n("click-right-icon",t),ge=t=>{J(t),n("update:modelValue",""),n("clear",t)},K=P(()=>{if(typeof e.error=="boolean")return e.error;if(o&&o.props.showError&&i.status==="failed")return!0}),me=P(()=>{const t=g("labelWidth");if(t)return{width:T(t)}}),be=t=>{t.keyCode===13&&(!(o&&o.props.submitOnEnter)&&e.type!=="textarea"&&J(t),e.type==="search"&&N()),n("keypress",t)},U=()=>e.id||`${r}-input`,he=()=>i.status,ve=()=>{const t=b("control",[g("inputAlign"),{error:K.value,custom:!!a.input,"min-height":e.type==="textarea"&&!e.autosize}]);if(a.input)return l("div",{class:t,onClick:G},[a.input()]);const s={id:U(),ref:f,name:e.name,rows:e.rows!==void 0?+e.rows:void 0,class:t,disabled:g("disabled"),readonly:g("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,enterkeyhint:e.enterkeyhint,"aria-labelledby":e.label?`${r}-label`:void 0,onBlur:ue,onFocus:se,onInput:oe,onClick:G,onChange:ee,onKeypress:be,onCompositionend:ee,onCompositionstart:ft};return e.type==="textarea"?l("textarea",s,null):l("input",H(mt(e.type),s),null)},ye=()=>{const t=a["left-icon"];if(e.leftIcon||t)return l("div",{class:b("left-icon"),onClick:de},[t?t():l(E,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])},Se=()=>{const t=a["right-icon"];if(e.rightIcon||t)return l("div",{class:b("right-icon"),onClick:fe},[t?t():l(E,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},xe=()=>{if(e.showWordLimit&&e.maxlength){const t=z(u());return l("div",{class:b("word-limit")},[l("span",{class:b("word-num")},[t]),Ne("/"),e.maxlength])}},Ce=()=>{if(o&&o.props.showErrorMessage===!1)return;const t=e.errorMessage||i.validateMessage;if(t){const s=a["error-message"],d=g("errorMessageAlign");return l("div",{class:b("error-message",d)},[s?s({message:t}):t])}},Pe=()=>{const t=g("colon")?":":"";if(a.label)return[a.label(),t];if(e.label)return l("label",{id:`${r}-label`,for:U()},[e.label+t])},Ie=()=>[l("div",{class:b("body")},[ve(),h.value&&l(E,{name:e.clearIcon,class:b("clear"),onTouchstart:ge},null),Se(),a.button&&l("div",{class:b("button")},[a.button()])]),xe(),Ce()];return qe({blur:N,focus:ce,validate:k,formValue:x,resetValidation:I,getValidationStatus:he}),ne(Fe,{customValue:c,resetValidation:I,validateWithTrigger:w}),Le(()=>e.modelValue,()=>{_(u()),I(),w("onChange"),L(M)}),Ae(()=>{_(u(),e.formatTrigger),L(M)}),()=>{const t=g("disabled"),s=g("labelAlign"),d=Pe(),m=ye();return l(ct,{size:e.size,icon:e.leftIcon,class:b({error:K.value,disabled:t,[`label-${s}`]:s}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:me.value,valueClass:b("value"),titleClass:[b("label",[s,{required:e.required}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:m?()=>m:null,title:d?()=>d:null,value:Ie,extra:a.extra})}}});const Bt=R(Ct),[Pt,te]=V("cell-group"),It={title:String,inset:Boolean,border:W};var kt=B({name:Pt,inheritAttrs:!1,props:It,setup(e,{slots:n,attrs:a}){const r=()=>{var f;return l("div",H({class:[te({inset:e.inset}),{[We]:e.border&&!e.inset}]},a),[(f=n.default)==null?void 0:f.call(n)])},i=()=>l("div",{class:te("title",{inset:e.inset})},[n.title?n.title():e.title]);return()=>e.title||n.title?l(je,null,[i(),r()]):r()}});const Et=R(kt);function Rt(e){var r;const n=(r=decodeURI(window.location.href).split("?")[1])==null?void 0:r.split("#/")[0],a={};return n&&n.split("&").forEach(f=>{const[c]=f.split("=");a[c]=f.replace(`${c}=`,"").replace(/\s/g,"+")}),a[e]}export{Tt as B,Et as C,Bt as F,Vt as H,E as I,qe as a,$t as b,ct as c,Rt as g,Ge as r,Ue as u};
